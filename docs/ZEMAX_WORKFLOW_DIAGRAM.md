# Zemax Integration Workflow Diagram

## System Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ZEMAX IMPORT SYSTEM                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Zemax ZMX File â”‚  â† Manufacturer lens prescription
â”‚  (AC254-100-B)  â”‚    (Thorlabs, Edmund, etc.)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ZemaxParser                                  â”‚
â”‚  â€¢ Reads ZMX file line-by-line                                  â”‚
â”‚  â€¢ Extracts: SURF, CURV, DISZ, GLAS, DIAM, WAVM                â”‚
â”‚  â€¢ Returns: ZemaxFile object                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ZemaxFile Object                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ â€¢ name: "AC254-100-B"                                     â”‚ â”‚
â”‚  â”‚ â€¢ primary_wavelength_um: 0.855                            â”‚ â”‚
â”‚  â”‚ â€¢ surfaces: [                                             â”‚ â”‚
â”‚  â”‚     ZemaxSurface(num=1, curv=0.015, thick=4.0,            â”‚ â”‚
â”‚  â”‚                  glass="N-LAK22", diam=12.7),             â”‚ â”‚
â”‚  â”‚     ZemaxSurface(num=2, curv=-0.018, thick=1.5,           â”‚ â”‚
â”‚  â”‚                  glass="N-SF6HT", diam=12.7),             â”‚ â”‚
â”‚  â”‚     ZemaxSurface(num=3, curv=-0.0039, thick=97.09,        â”‚ â”‚
â”‚  â”‚                  glass="", diam=12.7),                    â”‚ â”‚
â”‚  â”‚   ]                                                        â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  â”‚      GlassCatalog                     â”‚
         â”œâ”€â”€â”¤  â€¢ N-BK7  â†’ n=1.517                   â”‚
         â”‚  â”‚  â€¢ N-LAK22 â†’ n=1.651                  â”‚
         â”‚  â”‚  â€¢ N-SF6HT â†’ n=1.805                  â”‚
         â”‚  â”‚  â€¢ Sellmeier equations                â”‚
         â”‚  â”‚  â€¢ Wavelength-dependent               â”‚
         â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ZemaxToInterfaceConverter                           â”‚
â”‚  â€¢ Maps surfaces â†’ InterfaceDefinition                          â”‚
â”‚  â€¢ Calculates cumulative positions                              â”‚
â”‚  â€¢ Looks up refractive indices                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ComponentRecord                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ name: "AC254-100-B Achromatic Doublet"                    â”‚ â”‚
â”‚  â”‚ kind: "multi_element"                                     â”‚ â”‚
â”‚  â”‚ object_height_mm: 12.7                                    â”‚ â”‚
â”‚  â”‚ interfaces_v2: [                                          â”‚ â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚   â”‚ InterfaceDefinition 1:                              â”‚ â”‚ â”‚
â”‚  â”‚   â”‚   x1_mm=0.00, y1_mm=-6.35                           â”‚ â”‚ â”‚
â”‚  â”‚   â”‚   x2_mm=0.00, y2_mm=6.35                            â”‚ â”‚ â”‚
â”‚  â”‚   â”‚   element_type='refractive_interface'               â”‚ â”‚ â”‚
â”‚  â”‚   â”‚   name='S1: Air â†’ N-LAK22'                          â”‚ â”‚ â”‚
â”‚  â”‚   â”‚   n1=1.000, n2=1.651                                â”‚ â”‚ â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚   â”‚ InterfaceDefinition 2:                              â”‚ â”‚ â”‚
â”‚  â”‚   â”‚   x1_mm=4.00, y1_mm=-6.35                           â”‚ â”‚ â”‚
â”‚  â”‚   â”‚   x2_mm=4.00, y2_mm=6.35                            â”‚ â”‚ â”‚
â”‚  â”‚   â”‚   element_type='refractive_interface'               â”‚ â”‚ â”‚
â”‚  â”‚   â”‚   name='S2: N-LAK22 â†’ N-SF6HT'                      â”‚ â”‚ â”‚
â”‚  â”‚   â”‚   n1=1.651, n2=1.805                                â”‚ â”‚ â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚   â”‚ InterfaceDefinition 3:                              â”‚ â”‚ â”‚
â”‚  â”‚   â”‚   x1_mm=5.50, y1_mm=-6.35                           â”‚ â”‚ â”‚
â”‚  â”‚   â”‚   x2_mm=5.50, y2_mm=6.35                            â”‚ â”‚ â”‚
â”‚  â”‚   â”‚   element_type='refractive_interface'               â”‚ â”‚ â”‚
â”‚  â”‚   â”‚   name='S3: N-SF6HT â†’ Air'                          â”‚ â”‚ â”‚
â”‚  â”‚   â”‚   n1=1.805, n2=1.000                                â”‚ â”‚ â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”‚ ]                                                          â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  OptiVerse Usage                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  â€¢ Component Editor: Visual editing                        â”‚ â”‚
â”‚  â”‚  â€¢ Storage Service: Save to library                        â”‚ â”‚
â”‚  â”‚  â€¢ Ray Tracing Engine: Automatic Snell's law at each n1â†’n2â”‚ â”‚
â”‚  â”‚  â€¢ Main Canvas: Drag and position in optical system       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Data Flow Example: AC254-100-B

### Step 1: Zemax Input

```
SURF 1
  CURV 1.4997E-2    â†’ Radius = 66.68 mm
  DISZ 4.0          â†’ Thickness = 4.0 mm
  GLAS N-LAK22      â†’ Material
  DIAM 1.27E+1      â†’ Diameter = 12.7 mm

SURF 2
  CURV -1.8622E-2   â†’ Radius = -53.70 mm
  DISZ 1.5          â†’ Thickness = 1.5 mm
  GLAS N-SF6HT      â†’ Material
  DIAM 1.27E+1      â†’ Diameter = 12.7 mm

SURF 3
  CURV -3.8549E-3   â†’ Radius = -259.41 mm
  DISZ 9.709E+1     â†’ Distance to focal plane = 97.09 mm
  DIAM 1.27E+1      â†’ Diameter = 12.7 mm
```

### Step 2: Parse & Convert

```
Surface 1:  R=66.68mm, t=4.0mm, N-LAK22
    â†“
Interface 1: x=0.00mm, n: 1.000â†’1.651 (Airâ†’N-LAK22)

Surface 2:  R=-53.70mm, t=1.5mm, N-SF6HT
    â†“
Interface 2: x=4.00mm, n: 1.651â†’1.805 (N-LAK22â†’N-SF6HT)

Surface 3:  R=-259.41mm, t=97.09mm, Air
    â†“
Interface 3: x=5.50mm, n: 1.805â†’1.000 (N-SF6HTâ†’Air)
```

### Step 3: Ray Trace

```
         Ray â†’  
                    â•±
                   â•±
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•±â”€â”€â”€â”€â”        Interface 1
    â”‚            â•±     â”‚        n: 1.000 â†’ 1.651
    â”‚  N-LAK22  â•±      â”‚        (Air into glass)
    â”‚          â•±       â”‚        Refraction: Î¸â‚ > Î¸â‚‚
    â”‚         â•±        â”‚
    â”‚        â•±â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€    Interface 2
    â”‚       â•±  N-SF6HT â”‚        n: 1.651 â†’ 1.805
    â”‚      â•±           â”‚        (Glass to denser glass)
    â”‚     â•±            â”‚        Small refraction
    â””â”€â”€â”€â”€â•±â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â•±                       Interface 3
       â•±                        n: 1.805 â†’ 1.000
      â•±                         (Glass to air)
     â•±                          Strong refraction
    â†™ converges
   
   Focal point @ 100mm
```

## Coordinate System Mapping

### Zemax (Sequential)

```
Object                                        Image
  @âˆ                                         Plane
   â”‚                                           â”‚
   â”œâ”€â”€â†’ S1 â”€â”€â†’ tâ‚=4mm â”€â”€â†’ S2 â”€â”€â†’ tâ‚‚=1.5mm â”€â”€â†’ S3 â”€â”€â†’ 97mm â”€â”€â†’ â”‚
   â”‚                                                            â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Optical Axis (Z) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### OptiVerse (Spatial)

```
       y (mm)
        â†‘
   +6.35â”‚    â”‚         â”‚         â”‚
        â”‚â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€  (Interface lines)
        â”‚    â”‚         â”‚         â”‚
        â”‚    â”‚         â”‚         â”‚
   â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â†’ x (mm) Optical axis
   0.00 â”‚    â”‚         â”‚         â”‚
        â”‚    â”‚         â”‚         â”‚
        â”‚â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€
   -6.35â”‚    â”‚         â”‚         â”‚
        
        â”‚    â”‚         â”‚         â”‚
       x=0  x=4.0    x=5.5      x=102.5
        â”‚    â”‚         â”‚         â”‚
        S1   S2        S3      Focal
             (cemented          Point
              interface)
```

## Refractive Index Lookup

### Glass Catalog Database

```python
GlassCatalog
  â””â”€ Schott Glasses
      â”œâ”€ N-BK7
      â”‚   â””â”€ Sellmeier coefficients: [1.03961212, 0.231792344, ...]
      â”‚       â””â”€ Calculate n(Î») = âˆš(1 + Î£ Báµ¢Î»Â²/(Î»Â²-Cáµ¢))
      â”‚           â””â”€ @ 855nm: n = 1.517
      â”‚
      â”œâ”€ N-LAK22
      â”‚   â””â”€ Coefficients: [1.14229781, 0.535138441, ...]
      â”‚       â””â”€ @ 855nm: n = 1.651
      â”‚
      â””â”€ N-SF6HT
          â””â”€ Coefficients: [1.77931763, 0.338149866, ...]
              â””â”€ @ 855nm: n = 1.805
```

### Wavelength Dispersion

```
Refractive Index vs Wavelength for N-LAK22:

    n
1.66â”‚     â•±â”€â”€â”€â”€â”€â”€â”€â”€
    â”‚    â•±
1.65â”‚   â•±        â† Dispersion curve
    â”‚  â•±            (Sellmeier equation)
1.64â”‚ â•±
    â”‚â•±
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â†’ Î» (nm)
         400    600    800   1000
                      â†‘
                    855nm
                   n=1.651
```

## Interface Definition Comparison

### Traditional Single Interface

```python
InterfaceDefinition(
    x1_mm=0.0, y1_mm=-5.0,
    x2_mm=0.0, y2_mm=5.0,
    element_type='lens',
    efl_mm=100.0
)
```

### Zemax Multi-Interface (Realistic Lens)

```python
ComponentRecord(
    interfaces_v2=[
        InterfaceDefinition(  # Entry surface
            element_type='refractive_interface',
            n1=1.000, n2=1.651  # Air â†’ Glass
        ),
        InterfaceDefinition(  # Cemented interface
            element_type='refractive_interface',
            n1=1.651, n2=1.805  # Glass â†’ Glass
        ),
        InterfaceDefinition(  # Exit surface
            element_type='refractive_interface',
            n1=1.805, n2=1.000  # Glass â†’ Air
        ),
    ]
)
```

**Key Difference**: Zemax import creates **physically accurate** multi-surface components vs. simplified thin-lens approximations.

## Usage Flow

### Command Line

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ $ python examples/zemax_parse_simple.py file.zmx            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Output: Parsed surfaces, interface mapping, refractive      â”‚
â”‚         indices, component structure                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Programmatic

```python
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ parser = ZemaxParser()                                       â”‚
â”‚ zemax_data = parser.parse("file.zmx")                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ converter = ZemaxToInterfaceConverter(GlassCatalog())        â”‚
â”‚ component = converter.convert(zemax_data)                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ storage.save_component(component)                            â”‚
â”‚ # or                                                          â”‚
â”‚ use component.interfaces_v2 directly                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Future UI Integration

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Component Editor                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ [Import Zemaxâ€¦]                 â”‚  â”‚ â† New button
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ File Dialog     â”‚
         â”‚ Select .zmx fileâ”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Interfaces auto-populate:            â”‚
â”‚  â”£â” S1: Air â†’ N-LAK22                 â”‚
â”‚  â”£â” S2: N-LAK22 â†’ N-SF6HT             â”‚
â”‚  â”—â” S3: N-SF6HT â†’ Air                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ Visual editing  â”‚
         â”‚ Drag endpoints  â”‚
         â”‚ Adjust n1, n2   â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ Save to library â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Use in main canvas:                  â”‚
â”‚  Drag from library â†’ position â†’       â”‚
â”‚  â†’ automatic ray tracing!             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Key Advantages

### 1. Manufacturer Data
```
Download Zemax file from Thorlabs/Edmund
         â†“
Import directly
         â†“
No manual entry!
```

### 2. Physical Accuracy
```
Thin lens approximation:  â•±â”‚â•²
                         â•± â”‚ â•²
                        â•±  â”‚  â•²
                           â”‚

Real multi-surface lens:  â•± â”‚ â”‚ â•²
                         â•±  â”‚ â”‚  â•²
                        â•±   â”‚ â”‚   â•²
                          â”Œâ”€â”€â”€â”
                     (multiple interfaces
                      with proper n1â†’n2)
```

### 3. Wavelength Dependence
```
Single wavelength:  n = 1.5 (constant)

Sellmeier dispersion:  n(Î») = f(Î»)
                       Red:   n=1.648
                       Green: n=1.651
                       Blue:  n=1.655
                       (chromatic effects!)
```

## Summary

This system provides a complete bridge from industry-standard Zemax lens prescriptions to your OptiVerse interface-based component model. The mapping is natural, the physics is accurate, and it integrates seamlessly with your existing raytracing engine.

**Result**: Use real lenses in your simulations! ğŸ”¬âœ¨

